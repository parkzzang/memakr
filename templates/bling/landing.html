{% extends 'base.html' %}
{% load custom_filters %}
{% block content %}
<main class="container my-3">

  <!-- 제목 -->
  <h4 class="mb-2 text-center">{{ title }}</h4>

  <!-- 템플릿 → 예시 이미지 (with Bootstrap 아이콘) -->
  <div class="row justify-content-center align-items-center gx-2 gy-2 text-center mb-3">
    <!-- 템플릿 이미지 -->
    <div class="col-12 col-md-5">
      <img src="/static/bling.png" alt="템플릿 이미지"
           class="img-fluid rounded border shadow-sm" style="max-height: 400px;">
    </div>

    <!-- 아이콘 화살표 -->
    <div class="col-12 col-md-1 d-flex justify-content-center align-items-center">
      <!-- 데스크탑: → -->
      <i class="bi bi-arrow-right d-none d-md-inline" style="font-size: 4rem; opacity: 0.6;"></i>
      <!-- 모바일: ↓ -->
      <i class="bi bi-arrow-down d-inline d-md-none" style="font-size: 4rem; opacity: 0.6;"></i>
    </div>

    <!-- 예시 이미지 -->
    <div class="col-12 col-md-5">
      <img src="/static/bling_example.png" alt="예시 이미지"
           class="img-fluid rounded border shadow-sm" style="max-height: 400px;">
    </div>
  </div>

  <!-- 3~5. 폼 입력 및 버튼 -->
  <form method="post" enctype="multipart/form-data"
  class="p-4 rounded shadow-sm"
  style="background-color: #fdf6ff; border: 1px solid #e0d5f7;">
    {% csrf_token %}
  
    <!-- 문구 입력 -->
    <div class="mb-4">
      <label for="id_text_1" class="form-label">위에 들어갈 글</label>
      {{ form.text_1|add_class:"form-control" }}
    </div>

    <!-- 문구 입력 -->
    <div class="mb-4">
      <label for="id_text_2" class="form-label">아래에 들어갈 글</label>
      {{ form.text_2|add_class:"form-control" }}
    </div>
  
    <!-- 이미지 업로드 -->
    <div class="mb-4">
      <label for="id_overlay_image" class="form-label">드레이크 몸통 이미지</label>
      {{ form.overlay_image|add_class:"form-control" }}
    </div>
  
    <!-- 생성 버튼 -->
    <div class="text-center">
      <button type="submit" class="btn btn-lg px-4"
        style="background-color: #6f42c1; color: white;">나만의 이미지 만들기</button>
    </div>
  </form>

  <!-- 결과 이미지 표시 -->
  {% if image_path %}
    <div class="mt-5 text-center">
      <h4 class="mb-3">생성된 이미지:</h4>
      <img src="{{ image_path }}" alt="생성 이미지" class="img-fluid border rounded">
    </div>
  {% endif %}
</main>
{% endblock %}
